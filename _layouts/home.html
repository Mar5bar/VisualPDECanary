<!DOCTYPE html>
<html lang="{{ page.lang | default: site.lang | default: " en" }}">

{%- include head.html -%}
<link rel="stylesheet" href="{{ '/assets/css/home.css' | relative_url }}">
<script type="module" src="/assets/js/post_of_the_week.js" async></script>

<body>

  {%- include header.html -%}

  <noscript>
    <link rel="stylesheet" href="{{ '/assets/css/noscript.css' | relative_url }}">
  </noscript>

  <main class="page-content" aria-label="Content">

    <div class="wrapper">

    <h1>VisualPDE</h1>

    <div id="tagline">
      Explore mathematics and science through interactive simulations, live on your device.
    </div>

    <div id="home_box_wrapper">
      <div id="home_box_1">
        <iframe id="sim" src="/sim/?preset=GrayScottBanner&lite&clean&noop" style="visibility:hidden"></iframe>
        <div id='content' class='no-select'>
          <div id='title'>
            <span class='text_on_sim'>Endless examples</span>
          </div>
          <div id='subtitle'>
            <span class='text_on_sim'>Dive into partial differential equations (PDEs) from across science and maths</span>
          </div>
          <div id='button_wrapper'>
            <a id='button' href='explore' target="_blank">
              <div class='button'>Explore</div>
            </a>
            <div id="try_clicking"><i class="fa-solid fa-arrow-left-long pulse"
              style="position:relative;right:3px;top:2px;"></i> Try clicking
            </div>
          </div>
        </div>
      </div>
      <a id='home_box_2' class='home_box_s' href='create'>
        <div class='container main'>
          <div class='title'>
            Solve <em>your</em> equations
          </div>
          <div class='subtitle'>
            Create simulations with our guides and examples
          </div>
          <div class='button'>Create</div>
        </div>

        <div class='container'>
          <img alt="A squirrel sat with its front paws to its mouth" src='/assets/images/squirrel.webp' />
        </div>
      </a>
      <a id='home_box_3' class='home_box_s' href='visual-stories'>
        <div class='container main'>
          <div class='title'>What is VisualPDE?</div>
          <div class='subtitle'>Discover the ideas behind the simulations</div>
          <div class='button'>Learn more</div>
        </div>
        <div class='container'>
          <img alt="Heatmap of concentration of a substance diffusing with circular symmetry"
            src='/assets/images/InhomHeatEquation.webp' />
        </div>
      </a>
    </div>
    </div>
  </main>

  {%- include mathjax.html -%}
  {%- include footer.html -%}

</body>

<script type="text/javascript">
  document.querySelector("iframe").addEventListener("load", function (e) {
    this.style.visibility = "visible";
    document.getElementById("sim").contentWindow.document.getElementById("play").click();
    // document.getElementById("sim-placeholder").style.opacity = 0;
    // document.getElementById("try-clicking").style.opacity = 1;
    $("#sim").contents().one("pointerdown touchstart", function () {
      document.getElementById("try_clicking").style.opacity = 0;
      // document.getElementsByClassName("home-banner-title")[0].classList.add("with-background");
      // document.getElementsByClassName("home-banner-subtitle")[0].classList.add("with-background");
    });
  });
</script>

</html>